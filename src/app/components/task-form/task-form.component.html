<div class="form-container">
  <h2>{{ isEditMode ? 'Modifier la tâche' : 'Nouvelle tâche' }}</h2>
  
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-group">
        <label for="title">Titre *</label>
        <input 
          type="text" 
          id="title" 
          formControlName="title"
          placeholder="Ex: Préparer la présentation"
          class="form-control"
        />
        <div class="error" *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched">
          <span *ngIf="taskForm.get('title')?.errors?.['required']">Le titre est requis</span>
          <span *ngIf="taskForm.get('title')?.errors?.['minlength']">Minimum 3 caractères</span>
        </div>
      </div>

      <div class="form-group">
        <label for="priority">Priorité *</label>
        <select id="priority" formControlName="priority" class="form-control">
          <option [value]="1">1 - Très faible</option>
          <option [value]="2">2 - Faible</option>
          <option [value]="3">3 - Moyenne</option>
          <option [value]="4">4 - Élevée</option>
          <option [value]="5">5 - Critique</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description *</label>
      <textarea 
        id="description" 
        formControlName="description"
        placeholder="Décrivez la tâche en détail..."
        rows="4"
        class="form-control"
      ></textarea>
      <div class="error" *ngIf="taskForm.get('description')?.invalid && taskForm.get('description')?.touched">
        <span *ngIf="taskForm.get('description')?.errors?.['required']">La description est requise</span>
        <span *ngIf="taskForm.get('description')?.errors?.['minlength']">Minimum 10 caractères</span>
      </div>
    </div>

    <div class="form-group">
      <label for="dueDate">Date d'échéance *</label>
      <input 
        type="date" 
        id="dueDate" 
        formControlName="dueDate"
        class="form-control"
      />
      <div class="error" *ngIf="taskForm.get('dueDate')?.invalid && taskForm.get('dueDate')?.touched">
        <span *ngIf="taskForm.get('dueDate')?.errors?.['required']">La date est requise</span>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" (click)="onCancel()" class="btn-secondary">
        Annuler
      </button>
      <button type="submit" [disabled]="taskForm.invalid" class="btn-primary">
        {{ isEditMode ? 'Modifier' : 'Ajouter' }}
      </button>
    </div>
  </form>
</div>